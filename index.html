<!doctype html>
<html ng:app="vislang">
<head>
<title>Visual Language</title>
<script src="common/raphael.js"></script>
<script src="common/angular-1.0.0rc6.js"></script>
<script src="vector2.js"></script>
<script src="common/underscore.js"></script>
<script src="common/minified/jquery.js"></script>
<script src="common/uuid.js"></script>
<script src="language.js"></script>
<script src="stuff.js"></script>
<link rel="stylesheet" href="common/reset.css">
<link rel="stylesheet" href="style.css">
</head>

<body ng:controller="Controller">
<nav id="top-bar">
    <a>New</a>
    <a ng-click="tab_click('library')">Library</a>
    <a>Tests</a>
    <a>Publish</a>
</nav>

<ng-view></ng-view>

</div>

<ng-switch on="overlay">

<div id="tools" ng-switch-when="library" ng-controller="library">
<h2>Import/Export</h2>
<textarea ng:model="import_export_text"></textarea>
<p>
<button ng:click="import()">Import</button>
<button ng:click="export_all()">Export All</button>
<button ng:click="revert()">Revert to Default State</button>
<button ng:click="load_example_programs()">Revert Example Functions</button>
</p>

<h2>Functions</h2>
<ul><li ng:repeat="(id, subroutine) in subroutines">
    <a href="#{{subroutine.id}}">edit</a>
    <a ng:click="export_subroutine(subroutine)">export</a>
    <a ng:click="delete_subroutine(subroutine)">delete</a>
    <a ng:show="current_object.type == 'subroutine'" ng:click="use_subroutine(subroutine)">use</a>
    <a ng:show="current_object.type == 'subroutine'" ng:click="use_subroutine_value(subroutine)">value</a>
    <span class="name">{{subroutine.name}}</span>
    (<span ng:repeat="input in subroutine.inputs">{{input.text || input}} </span> -&gt;
    <span ng:repeat="output in subroutine.outputs">
        <a ng:click="run_subroutine(subroutine, output.index)">{{output.text || output}}</a>
    </span>)
</li></ul>

<h2>Literals (JSON)</h2>
<form ng:submit="use_literal()"> <input ng:model="literal_text"> <button>Use Literal</button> </form>
</div>
</ng-switch>

</body>
</html>
