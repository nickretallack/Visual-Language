<!doctype html>
<html xmlns:ng="http://angularjs.org" ng:app>
<head>
<title>Visual Language</title>
<script src="common/angular-0.10.6.js"></script>
<script src="common/minified/Three.js"></script>
<script src="common/vector_compatibility.js"></script>
<script src="common/animation_frame.js"></script>
<script src="common/underscore.js"></script>
<script src="common/minified/jquery.js"></script>
<script src="fonts/helvetiker_regular.typeface.js"></script>
<script src="common/uuid.js"></script>
<script src="stuff.js"></script>
<link rel="stylesheet" href="common/reset.css">
<link rel="stylesheet" href="style.css">
</head>

<body ng:controller="Controller">
<div id="field"></div>

<div id="tools">
<h2>Programs</h2>
<ul><li ng:repeat="(id, program) in programs">
    <a ng:click="run_program(program)">run</a> <a ng:click="edit_subroutine(program.subroutine)">edit</a> {{program.name}}
    <span ng:repat="input in program.subroutine.inputs">{{input.text}}</span> =&gt;
    <span ng:repat="output in program.subroutine.outputs">{{output.text}}</span>
</li></ul>
<form ng:submit="add_program()"> <input ng:model="new_program_name"> <button>Add Program</button> </form>

<h2>Subroutines</h2>
<ul><li ng:repeat="(id, subroutine) in subroutines">
    <a ng:click="use_subroutine(subroutine)">use</a> <a ng:click="edit_subroutine(subroutine)">edit</a> {{subroutine.name}}
    <span ng:repeat="input in subroutine.inputs">{{input.text}} </span> =&gt;
    <span ng:repeat="output in subroutine.outputs">{{output.text}} </span>
</li></ul>
<form ng:submit="add_subroutine()">
<p>Name:<input ng:model="new_subroutine.name"></p>
<p>Inputs:<input ng:model="new_subroutine.inputs"></p>
<p>Outputs:<input ng:model="new_subroutine.outputs"></p>
<button>Add Subroutine</button> </form>

<h2>Library</h2>
<form ng:submit="add_new_node()"> <input ng:model="new_node_text"> <button>Add to Program</button> </form>
<ul><li ng:repeat="(text, item) in library">
    <a ng:click="add_node(text)">{{text}}</a>
</li></ul>

</body>
</html>
